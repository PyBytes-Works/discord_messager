Бот читает 100 сообщений в дискорд-канале, переводит на русский или английский язык, отправляет
оператору в телеграм, ждет ответа и отправляет обратно в канал (если надо, то тоже переводит).

Описаны модели БД для пользователей данного бота, их дискорд-токенов, время жизни
пользователя(подписка).

Бот рабочий, настраивается через файл .env.


ТЗ
1

Как то организовать передачу сообщений боту из Канала

База готова


2
Бот переводит сообщение (если надо) и отправляет оператору


3
Оператор пишет ответ и отправляет боту

База готова

4
Бот переводит обратно (если надо) и отправляет под рандомным пользователем обратно в Канал
Нам нужны пользователи в Канале, из-под которых мы будем отправлять сообщения

База готова.


5 Сделать БД для хранения пользователей, их состояний и их токенов

Написать функцию, которая проверяет дату подписки пользователя и если подписка истекла - оповещает
пользователя и удаляет его из списка рассылок.

6.
Методы БД:
1. Вернуть список telegram_id всех АКТИВНЫХ пользователей:
get_all_active_users() -> list[User.telegram_id]

2. Добавить ТОКЕН в БД по telegram_id:
add_token(telegram_id: str) -> что там возвращается, я хз

3. Вернуть список всех ТОКЕНОВ пользователя по его telegram_id:
get_all_user_tokens(telegram_id: str) -> list[str]

4. Вернуть timestamp (кд) токена по его "значению":
get_time_by_token(token: str) -> float

5. Удалить токен по его "значению":
delete_token(token: str)

6. Добавить timestamp (кд) по "значению" токена:
set_time_by_token(token: str, time: float)


Результаты.
Получает в телеграм случайное сообщение из дискорда, отправляет обратно реплаем на это сообщение.


  28 01 2022 new target
    добавить ip прокси для токена
    пользователь гильдия канал только 1 для пользователя
